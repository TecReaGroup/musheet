class: InstrumentScore
table: instrument_scores
fields:
  scoreId: int, relation(parent=scores)

  # Business fields
  instrumentType: String
  customInstrument: String?

  # pdfPath removed per APP_SYNC_LOGIC.md - server derives path from pdfHash
  # Client stores local path separately, not synced to server
  pdfHash: String?
  orderIndex: int

  # Embedded annotations (shared within same scope)
  annotationsJson: String?

  # Team-only business metadata (nullable in user scope)
  sourceInstrumentScoreId: int?

  # Sync fields
  createdAt: DateTime
  updatedAt: DateTime
  deletedAt: DateTime?
  version: int
  syncStatus: String?
indexes:
  instrument_score_idx:
    fields: scoreId
    type: btree
  instrument_score_unique:
    fields: scoreId, instrumentType, customInstrument
    unique: true
  instrument_score_version_idx:
    fields: scoreId, version
    type: btree